// searchRegistry.ts - System rejestracji wszystkich fraz/≈õcie≈ºek dla globalnej wyszukiwarki
// ≈ÅATWO ROZSZERZALNY - dodaj nowe frazy, sekcje, materia≈Çy bez modyfikacji logiki

export interface SearchItem {
  id: string;
  title: string; // Co pokazaƒá w wynikach
  description?: string; // Opcjonalny opis
  keywords: string[]; // Frazy do wyszukiwania (lowercase)
  path?: string; // ≈öcie≈ºka do przekierowania (je≈õli null, to akcja specjalna)
  category: 'navigation' | 'materials' | 'ai' | 'services' | 'contact' | 'other';
  icon?: string; // Opcjonalna ikona (emoji lub lucide icon name)
  action?: 'open-ai' | 'navigate' | 'scroll-to'; // Specjalna akcja
  priority?: number; // Priorytet w wynikach (wy≈ºszy = wa≈ºniejszy)
}

// ==========================================
// NAVIGATION - G≈Ç√≥wne sekcje strony
// ==========================================
const navigationItems: SearchItem[] = [
  {
    id: 'nav-home',
    title: 'Strona g≈Ç√≥wna',
    keywords: ['strona', 'glowna', 'home', 'start', 'poczatek'],
    path: '/',
    category: 'navigation',
    icon: 'üè†',
    priority: 10
  },
  {
    id: 'nav-services',
    title: 'Us≈Çugi',
    keywords: ['uslugi', 'services', 'oferta', 'co oferuje', 'korepetycje'],
    path: '/#services',
    category: 'navigation',
    icon: 'üìö',
    priority: 9
  },
  {
    id: 'nav-contact',
    title: 'Kontakt',
    keywords: ['kontakt', 'contact', 'napisz', 'email', 'telefon'],
    path: '/#contact',
    category: 'navigation',
    icon: 'üìß',
    priority: 9
  },
  {
    id: 'nav-about',
    title: 'O mnie',
    keywords: ['o mnie', 'about', 'kim jestem', 'patryk', 'kulesza'],
    path: '/#about',
    category: 'navigation',
    icon: 'üë®‚Äçüè´',
    priority: 8
  },
  {
    id: 'nav-testimonials',
    title: 'Opinie',
    keywords: ['opinie', 'testimonials', 'recenzje', 'co mowia', 'studenci'],
    path: '/#testimonials',
    category: 'navigation',
    icon: '‚≠ê',
    priority: 7
  }
];

// ==========================================
// AI ASSISTANT - KORKU≈ö zawsze na g√≥rze
// ==========================================
const aiItems: SearchItem[] = [
  {
    id: 'ai-korkus',
    title: 'ü§ñ Asystent AI - KORKU≈ö',
    description: 'Zadaj pytanie AI, um√≥w korepetycje',
    keywords: ['ai', 'asystent', 'korkus', 'chatbot', 'bot', 'pytanie', 'pomoc', 'zapytaj'],
    path: undefined,
    category: 'ai',
    icon: 'ü§ñ',
    action: 'open-ai',
    priority: 100 // NAJWY≈ªSZY priorytet
  }
];

// ==========================================
// MATERIALS - Matematyka
// ==========================================
const mathMaterialsItems: SearchItem[] = [
  // Szko≈Ça podstawowa
  {
    id: 'math-liczby-naturalne',
    title: 'Liczby naturalne',
    description: 'Dzia≈Çania, w≈Çasno≈õci',
    keywords: ['liczby naturalne', 'dzialania', 'wlasnosci', 'podstawowa', 'liczby', 'naturalne'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: 'üî¢',
    priority: 5
  },
  {
    id: 'math-ulamki-zwykle',
    title: 'U≈Çamki zwyk≈Çe',
    description: 'Dodawanie, odejmowanie, mno≈ºenie',
    keywords: ['ulamki', 'zwykle', 'ulamek', 'dzialania na ulamkach', 'podstawowa', 'ulamki zwykle'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: '‚ûó',
    priority: 5
  },
  {
    id: 'math-ulamki-dziesietne',
    title: 'U≈Çamki dziesiƒôtne',
    description: 'ZaokrƒÖglanie, dzia≈Çania',
    keywords: ['ulamki dziesietne', 'przecinek', 'zaokraglanie', 'podstawowa', 'dziesietne'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: 'üîü',
    priority: 5
  },
  {
    id: 'math-procenty',
    title: 'Procenty',
    description: 'Obliczanie procent√≥w',
    keywords: ['procenty', 'procent', 'obliczanie', 'podstawowa', '%'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: '%',
    priority: 5
  },
  {
    id: 'math-rownania',
    title: 'R√≥wnania',
    description: 'R√≥wnania liniowe',
    keywords: ['rownania', 'liniowe', 'niewiadoma', 'podstawowa', 'r√≥wnania', 'rownanie'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: 'üî§',
    priority: 5
  },
  {
    id: 'math-geometria-plaska',
    title: 'Geometria p≈Çaska',
    description: 'Figury, obwody, pola',
    keywords: ['geometria', 'plaska', 'figury', 'obwod', 'pole', 'podstawowa', 'p≈Çaska'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: 'üìê',
    priority: 5
  },
  {
    id: 'math-geometria-przestrzenna',
    title: 'Geometria przestrzenna',
    description: 'Bry≈Çy, objƒôto≈õci',
    keywords: ['geometria', 'przestrzenna', 'bry≈Çy', 'bryly', 'objetosc', 'objƒôto≈õƒá', 'podstawowa'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: 'üì¶',
    priority: 5
  },
  {
    id: 'math-wyrazenia',
    title: 'Wyra≈ºenia algebraiczne',
    description: 'Przekszta≈Çcanie wyra≈ºe≈Ñ',
    keywords: ['wyrazenia', 'algebraiczne', 'wyra≈ºenia', 'algebra', 'podstawowa'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: 'üî†',
    priority: 5
  },
  {
    id: 'math-statystyka-podstawowa',
    title: 'Statystyka',
    description: '≈örednia, mediana, prawdopodobie≈Ñstwo',
    keywords: ['statystyka', 'srednia', '≈õrednia', 'mediana', 'podstawowa', 'prawdopodobienstwo'],
    path: '/matematyka#szkola-podstawowa',
    category: 'materials',
    icon: 'ÔøΩ',
    priority: 5
  },

  // Liceum podstawowy
  {
    id: 'math-liceum-funkcje',
    title: 'Funkcje (liceum)',
    description: 'Funkcje liniowe, kwadratowe',
    keywords: ['funkcje', 'liniowe', 'kwadratowe', 'wykladnicze', 'liceum', 'podstawowy', 'funkcja'],
    path: '/matematyka#liceum-podstawowy',
    category: 'materials',
    icon: 'üìà',
    priority: 6
  },
  {
    id: 'math-liceum-ciagi',
    title: 'CiƒÖgi',
    description: 'Arytmetyczne, geometryczne',
    keywords: ['ciagi', 'arytmetyczny', 'geometryczny', 'liceum', 'podstawowy', 'ciƒÖg', 'ciƒÖgi'],
    path: '/matematyka#liceum-podstawowy',
    category: 'materials',
    icon: 'üî¢',
    priority: 6
  },
  {
    id: 'math-liceum-trygonometria',
    title: 'Trygonometria',
    description: 'Funkcje trygonometryczne',
    keywords: ['trygonometria', 'sinus', 'cosinus', 'tangens', 'liceum', 'podstawowy', 'sin', 'cos', 'tg'],
    path: '/matematyka#liceum-podstawowy',
    category: 'materials',
    icon: 'üìä',
    priority: 6
  },
  {
    id: 'math-liceum-planimetria',
    title: 'Planimetria',
    description: 'Geometria analityczna na p≈Çaszczy≈∫nie',
    keywords: ['planimetria', 'geometria', 'analityczna', 'p≈Çaszczyzna', 'liceum', 'podstawowy'],
    path: '/matematyka#liceum-podstawowy',
    category: 'materials',
    icon: 'üìê',
    priority: 6
  },
  {
    id: 'math-liceum-kombinatoryka',
    title: 'Kombinatoryka',
    description: 'Permutacje, kombinacje',
    keywords: ['kombinatoryka', 'permutacje', 'kombinacje', 'silnia', 'liceum', 'podstawowy'],
    path: '/matematyka#liceum-podstawowy',
    category: 'materials',
    icon: 'üé≤',
    priority: 6
  },

  // Liceum rozszerzony
  {
    id: 'math-liceum-rozs-analiza',
    title: 'Analiza matematyczna',
    description: 'Granice, pochodne, ca≈Çki',
    keywords: ['analiza', 'granice', 'pochodne', 'calki', 'ca≈Çki', 'liceum', 'rozszerzony'],
    path: '/matematyka#liceum-rozszerzony',
    category: 'materials',
    icon: '‚à´',
    priority: 7
  },
  {
    id: 'math-liceum-rozs-liczby-zespolone',
    title: 'Liczby zespolone',
    description: 'Dzia≈Çania na liczbach zespolonych',
    keywords: ['liczby zespolone', 'zespolone', 'urojone', 'modu≈Ç', 'liceum', 'rozszerzony'],
    path: '/matematyka#liceum-rozszerzony',
    category: 'materials',
    icon: '‚ÑÇ',
    priority: 7
  },
  {
    id: 'math-liceum-rozs-wielomiany',
    title: 'Wielomiany',
    description: 'Zaawansowane zagadnienia wielomian√≥w',
    keywords: ['wielomiany', 'wielomian', 'pierwiastki', 'rozklad', 'liceum', 'rozszerzony'],
    path: '/matematyka#liceum-rozszerzony',
    category: 'materials',
    icon: 'ÔøΩ',
    priority: 7
  },

  // Studia
  {
    id: 'math-studia-algebra',
    title: 'Algebra liniowa',
    description: 'Macierze, wektory, przestrzenie',
    keywords: ['algebra', 'liniowa', 'macierze', 'wektory', 'studia', 'macierz', 'wektor'],
    path: '/matematyka#studia',
    category: 'materials',
    icon: 'üî¢',
    priority: 6
  },
  {
    id: 'math-studia-analiza',
    title: 'Analiza matematyczna (studia)',
    description: 'Szeregi, funkcje wielu zmiennych',
    keywords: ['analiza', 'szeregi', 'funkcje wielu zmiennych', 'studia', 'calki wielokrotne'],
    path: '/matematyka#studia',
    category: 'materials',
    icon: '‚à´',
    priority: 6
  },

  // ==========================================
  // MATURA PODSTAWOWA - WSZYSTKIE LATA
  // ==========================================
  {
    id: 'matura-podstawowa-main',
    title: 'Matura podstawowa',
    description: 'Wszystkie arkusze podstawowe',
    keywords: ['matura', 'podstawowa', 'arkusze', 'egzamin', 'podstaw', 'podst'],
    path: '/matematyka#matura-podstawowa',
    category: 'materials',
    icon: 'üìù',
    priority: 8
  },
  // 2025
  {
    id: 'matura-podst-2025-glowna',
    title: 'Matura podstawowa 2025 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2025',
    keywords: ['matura', 'podstawowa', '2025', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz'],
    path: '/matematyka/matura/podstawowa/2025/glowna',
    category: 'materials',
    icon: 'üìù',
    priority: 9
  },
  // 2024
  {
    id: 'matura-podst-2024-glowna',
    title: 'Matura podstawowa 2024 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2024',
    keywords: ['matura', 'podstawowa', '2024', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz'],
    path: '/matematyka/matura/podstawowa/2024/glowna',
    category: 'materials',
    icon: 'üìù',
    priority: 9
  },
  // 2023
  {
    id: 'matura-podst-2023-glowna',
    title: 'Matura podstawowa 2023 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2023',
    keywords: ['matura', 'podstawowa', '2023', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz'],
    path: '/matematyka/matura/podstawowa/2023/glowna',
    category: 'materials',
    icon: 'üìù',
    priority: 9
  },
  // 2022
  {
    id: 'matura-podst-2022-glowna',
    title: 'Matura podstawowa 2022 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2022',
    keywords: ['matura', 'podstawowa', '2022', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz'],
    path: '/matematyka/matura/podstawowa/2022/glowna',
    category: 'materials',
    icon: 'üìù',
    priority: 9
  },

  // ==========================================
  // MATURA ROZSZERZONA - WSZYSTKIE LATA
  // ==========================================
  {
    id: 'matura-rozszerzona-main',
    title: 'Matura rozszerzona',
    description: 'Wszystkie arkusze rozszerzone',
    keywords: ['matura', 'rozszerzona', 'arkusze', 'egzamin', 'rozsz', 'rozs', 'rozszerz'],
    path: '/matematyka#matura-rozszerzona',
    category: 'materials',
    icon: 'üéì',
    priority: 8
  },
  // 2025
  {
    id: 'matura-rozs-2025-glowna',
    title: 'Matura rozszerzona 2025 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2025',
    keywords: ['matura', 'rozszerzona', '2025', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz', 'rozsz'],
    path: '/matematyka/matura/rozszerzona/2025/glowna',
    category: 'materials',
    icon: 'üéì',
    priority: 9
  },
  // 2024
  {
    id: 'matura-rozs-2024-glowna',
    title: 'Matura rozszerzona 2024 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2024',
    keywords: ['matura', 'rozszerzona', '2024', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz', 'rozsz'],
    path: '/matematyka/matura/rozszerzona/2024/glowna',
    category: 'materials',
    icon: 'üéì',
    priority: 9
  },
  // 2023
  {
    id: 'matura-rozs-2023-glowna',
    title: 'Matura rozszerzona 2023 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2023',
    keywords: ['matura', 'rozszerzona', '2023', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz', 'rozsz'],
    path: '/matematyka/matura/rozszerzona/2023/glowna',
    category: 'materials',
    icon: 'üéì',
    priority: 9
  },
  // 2022
  {
    id: 'matura-rozs-2022-glowna',
    title: 'Matura rozszerzona 2022 - G≈Ç√≥wna',
    description: 'Sesja g≈Ç√≥wna maj 2022',
    keywords: ['matura', 'rozszerzona', '2022', 'glowna', 'g≈Ç√≥wna', 'maj', 'arkusz', 'rozsz'],
    path: '/matematyka/matura/rozszerzona/2022/glowna',
    category: 'materials',
    icon: 'üéì',
    priority: 9
  },

  // ==========================================
  // EGZAMIN √ìSMOKLASISTY - WSZYSTKIE LATA
  // ==========================================
  {
    id: 'egzamin-8-main',
    title: 'Egzamin 8-klasisty',
    description: 'Wszystkie arkusze egzaminacyjne',
    keywords: ['egzamin', 'osmoklasista', '8 klasisty', 'osmy', 'arkusze', '8', '√≥smok klasista', '√≥smoklasista'],
    path: '/matematyka#egzamin-8',
    category: 'materials',
    icon: 'üìã',
    priority: 8
  },
  // 2025
  {
    id: 'egzamin-8-2025-glowny',
    title: 'Egzamin 8-klasisty 2025 - G≈Ç√≥wny',
    description: 'Oficjalny egzamin maj 2025',
    keywords: ['egzamin', '8', 'osmy', '2025', 'glowny', 'g≈Ç√≥wny', 'maj', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2025/glowny',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },
  {
    id: 'egzamin-8-2025-dodatkowy',
    title: 'Egzamin 8-klasisty 2025 - Dodatkowy',
    description: 'Dodatkowy egzamin 2025',
    keywords: ['egzamin', '8', 'osmy', '2025', 'dodatkowy', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2025/dodatkowy',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },
  // 2024
  {
    id: 'egzamin-8-2024-glowny',
    title: 'Egzamin 8-klasisty 2024 - G≈Ç√≥wny',
    description: 'Oficjalny egzamin maj 2024',
    keywords: ['egzamin', '8', 'osmy', '2024', 'glowny', 'g≈Ç√≥wny', 'maj', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2024/glowny',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },
  {
    id: 'egzamin-8-2024-dodatkowy',
    title: 'Egzamin 8-klasisty 2024 - Dodatkowy',
    description: 'Dodatkowy egzamin 2024',
    keywords: ['egzamin', '8', 'osmy', '2024', 'dodatkowy', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2024/dodatkowy',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },
  // 2023
  {
    id: 'egzamin-8-2023-glowny',
    title: 'Egzamin 8-klasisty 2023 - G≈Ç√≥wny',
    description: 'Oficjalny egzamin maj 2023',
    keywords: ['egzamin', '8', 'osmy', '2023', 'glowny', 'g≈Ç√≥wny', 'maj', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2023/glowny',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },
  {
    id: 'egzamin-8-2023-dodatkowy',
    title: 'Egzamin 8-klasisty 2023 - Dodatkowy',
    description: 'Dodatkowy egzamin 2023',
    keywords: ['egzamin', '8', 'osmy', '2023', 'dodatkowy', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2023/dodatkowy',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },
  // 2022
  {
    id: 'egzamin-8-2022-glowny',
    title: 'Egzamin 8-klasisty 2022 - G≈Ç√≥wny',
    description: 'Oficjalny egzamin maj 2022',
    keywords: ['egzamin', '8', 'osmy', '2022', 'glowny', 'g≈Ç√≥wny', 'maj', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2022/glowny',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },
  {
    id: 'egzamin-8-2022-dodatkowy',
    title: 'Egzamin 8-klasisty 2022 - Dodatkowy',
    description: 'Dodatkowy egzamin 2022',
    keywords: ['egzamin', '8', 'osmy', '2022', 'dodatkowy', '√≥smoklasista'],
    path: '/matematyka/egzamin-8/2022/dodatkowy',
    category: 'materials',
    icon: 'üìã',
    priority: 9
  },

  // ==========================================
  // OG√ìLNE - MATERIA≈ÅY
  // ==========================================
  {
    id: 'materialy-general',
    title: 'Materia≈Çy edukacyjne',
    description: 'Zobacz wszystkie dostƒôpne materia≈Çy',
    keywords: ['materialy', 'materia≈Çy', 'edukacyjne', 'nauka', 'pomoce', 'teoria'],
    path: '/matematyka',
    category: 'materials',
    icon: 'üìö',
    priority: 7
  }
];

// ==========================================
// SERVICES - Przedmioty
// ==========================================
const servicesItems: SearchItem[] = [
  {
    id: 'service-math',
    title: 'Matematyka',
    description: 'Korepetycje z matematyki',
    keywords: ['matematyka', 'mat', 'math', 'liczby', 'zadania'],
    path: '/matematyka',
    category: 'services',
    icon: 'üßÆ',
    priority: 9
  },
  {
    id: 'service-english',
    title: 'Angielski',
    description: 'Korepetycje z angielskiego',
    keywords: ['angielski', 'english', 'jezyk', 'konwersacje'],
    path: '/angielski',
    category: 'services',
    icon: 'üá¨üáß',
    priority: 9
  },
  {
    id: 'service-programming',
    title: 'Programowanie',
    description: 'Korepetycje z programowania',
    keywords: ['programowanie', 'programming', 'python', 'web', 'ai', 'kod'],
    path: '/programowanie',
    category: 'services',
    icon: 'üíª',
    priority: 9
  }
];

// ==========================================
// EXPORT - Wszystkie items razem
// ==========================================
export const ALL_SEARCH_ITEMS: SearchItem[] = [
  ...aiItems,        // AI zawsze na g√≥rze (priority 100)
  ...navigationItems,
  ...servicesItems,
  ...mathMaterialsItems
];

// ==========================================
// HELPER FUNCTIONS
// ==========================================

/**
 * Wyszukaj items po query (case-insensitive, fuzzy matching)
 */
export function searchItems(query: string, maxResults: number = 10): SearchItem[] {
  if (!query.trim()) return [];

  const lowerQuery = query.toLowerCase().trim();
  
  // Filtruj items kt√≥re pasujƒÖ do query
  const matches = ALL_SEARCH_ITEMS.filter(item => {
    // Sprawd≈∫ czy query wystƒôpuje w title
    if (item.title.toLowerCase().includes(lowerQuery)) return true;
    
    // Sprawd≈∫ czy query wystƒôpuje w keywords
    return item.keywords.some(keyword => keyword.includes(lowerQuery));
  });

  // Sortuj po priority (descending)
  matches.sort((a, b) => (b.priority || 0) - (a.priority || 0));

  return matches.slice(0, maxResults);
}

/**
 * Pobierz item po ID
 */
export function getItemById(id: string): SearchItem | undefined {
  return ALL_SEARCH_ITEMS.find(item => item.id === id);
}

/**
 * Pobierz items po kategorii
 */
export function getItemsByCategory(category: SearchItem['category']): SearchItem[] {
  return ALL_SEARCH_ITEMS.filter(item => item.category === category);
}
